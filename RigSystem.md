# Описание системы ригов

## Общее описание

  Риг, в контексте нашей программы, это "скелет" объекта, набор связанных одним родительским контейнером якорных точек.
  
  Якорная точка, в контексте нашей программы, это родительский контейнер для изображения.
  
  Анимация изображений осуществляется путём анимации положения и вращения якорной точки, в которой находится это изображение.
  
  Риг может принадлежать персонажу, в этом случае в его, конкретные, якорные точки, можно помещать риг принадлежащий "вещи".
  
## Преимущества системы

  - Легкое создание персонажей (игроков, монстров, боссов и т.д.);
  - Легкое создание вещей окружающего мира (сундуки, лут, двери и т.д.);
  - Легкое создание вещей персонажей (оружие, доспехи, костюмы и т.д.);
  - Легкое создание снарядов (заклинания, стрелы, бомбы и т.д.);
  - Легкое анимирование всех созданных ригов;
  - Легкий вызов конкретных анимаций из кода.
  
## Базовые классы

  **Rig**
  
  Поля:
  - **id**: уникальный идентификатор;
  - **name**: уникальное наименование;
  - **element**: HTML элемент;
  - **height**: высота;
  - **width**: ширина;
    
  Методы:
  - **createElement**: создание HTML элемента.
  - **save**: сохранение в базу данных.
  - **load**: загрузка из базы данных.
  - **remove**: удаление из базы данных.
  - **changeName**: смена наименования.
  - **getName**: возврат наименования.
  - **getId**: возврат id.
  - **changeSize**: изменение высоты и/или ширины.
  
  **AnchorPoint**
  
  Поля:
  - **name**: уникальное (внутри рига) наименование;
  - **element**: HTML элемент;
  - **left**: смещение от левого края;
  - **bottom**: смещение от нижнего края;
  - **rotate**: градусы вращения;
  - **duration**: длительность анимации;
  - **skinElement**: HTML элемент дочернего изображения;
  - **skinSrc**: путь к дочернему изображению.
  - **animations**: список анимаций;
  - **animationPattern**: шаблон объекта анимации;
    - **name**: уникальное (внутри якорной точки) наименование анимации;
    - **keyPoints**: список ключевых точек анимации;
    - **keyPointPattern**: шаблон объекта ключевой точки анимации;
      - **duration**: продолжительность анимации в этой ключевой точке;
      - **timeout**: тайм-аут до запуска следующей ключевой точки;
      - **left**: смещение от левого края в этой ключевой точке;
      - **bottom**: смещение от нижнего края в этой ключевой точке;
      - **rotation**: градусы вращения в этой ключевой точке.
  
  Методы:
  - **createElement**
  - **changeName**
  - **createSkinElement**
  - **setSkinSrc**
  - **move**
  - **changeDuration**
  - **addAnimation**
  - **removeAnimation**
  - **getAnimation**
  - **setAnimation
  
  **AnchorPointAnimation**
  
## Наследники базовых классов

  **ActorRig**
  
  **EnvironmentRig**
  
  **ItemRig**
  
  
